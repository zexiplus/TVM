<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for tvvm.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="index.html">All files</a> tvvm.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">22.67% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>34/150</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">15.28% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>11/72</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">18.87% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>10/53</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">21.77% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>32/147</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">17x</span>
<span class="cline-any cline-yes">17x</span>
<span class="cline-any cline-yes">17x</span>
<span class="cline-any cline-yes">17x</span>
<span class="cline-any cline-yes">17x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * tvvm.js v1.0.0
 * A simple micro-library for agile building TV web app with no dependency
 * 
 * Copyright (c) 2018 float &lt;zexiplus@outlook.com&gt;
 * https://github.com/zexiplus/TVM#readme
 * 
 * Licensed under the MIT license.
 */
&nbsp;
(function (global, factory) {
  typeof exports === 'object' &amp;&amp; typeof module !== 'undefined' ? module.exports = factory() :
<span class="branch-1 cbranch-no" title="branch not covered" >  typeof define === 'function' &amp;&amp; define.amd ? define(factory) :</span>
  (global.TVVM = factory());
}(this, (function () { 'use strict';
&nbsp;
  var _typeof = typeof Symbol === "function" &amp;&amp; typeof Symbol.iterator === "symbol" ? <span class="fstat-no" title="function not covered" >fu</span>nction (obj) {
<span class="cstat-no" title="statement not covered" >    return typeof obj;</span>
  } : <span class="fstat-no" title="function not covered" ><span class="branch-1 cbranch-no" title="branch not covered" >fu</span>nction (obj) {</span>
<span class="cstat-no" title="statement not covered" >    return obj &amp;&amp; typeof Symbol === "function" &amp;&amp; obj.constructor === Symbol &amp;&amp; obj !== Symbol.prototype ? "symbol" : typeof obj;</span>
  };
&nbsp;
  var classCallCheck = <span class="fstat-no" title="function not covered" >fu</span>nction (instance, Constructor) {
<span class="cstat-no" title="statement not covered" >    if (!(instance instanceof Constructor)) {</span>
<span class="cstat-no" title="statement not covered" >      throw new TypeError("Cannot call a class as a function");</span>
    }
  };
&nbsp;
  var createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i &lt; props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        <span class="missing-if-branch" title="else path not taken" >E</span>if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }
&nbsp;
    return function (Constructor, protoProps, staticProps) {
      <span class="missing-if-branch" title="else path not taken" >E</span>if (protoProps) defineProperties(Constructor.prototype, protoProps);
      <span class="missing-if-branch" title="if path not taken" >I</span>if (staticProps) <span class="cstat-no" title="statement not covered" >defineProperties(Constructor, staticProps);</span>
      return Constructor;
    };
  }();
&nbsp;
  var Dep = function () {
      function <span class="fstat-no" title="function not covered" >Dep(</span>) {
<span class="cstat-no" title="statement not covered" >          classCallCheck(this, Dep);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >          this.subs = [];</span>
      }
&nbsp;
      createClass(Dep, [{
          key: "addSubs",
          value: function <span class="fstat-no" title="function not covered" >addSubs(</span>watcher) {
<span class="cstat-no" title="statement not covered" >              this.subs.push(watcher); </span>// 添加订阅者
          }
      }, {
          key: "notify",
          value: function <span class="fstat-no" title="function not covered" >notify(</span>) {
<span class="cstat-no" title="statement not covered" >              this.subs.forEach(<span class="fstat-no" title="function not covered" >fu</span>nction (watcher) {</span>
<span class="cstat-no" title="statement not covered" >                  return watcher.update();</span>
              });
          }
      }]);
      return Dep;
  }();
&nbsp;
  var Observer = function () {
      function <span class="fstat-no" title="function not covered" >Observer(</span>data) {
<span class="cstat-no" title="statement not covered" >          classCallCheck(this, Observer);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >          this.observer(data);</span>
      }
&nbsp;
      createClass(Observer, [{
          key: 'observer',
          value: function <span class="fstat-no" title="function not covered" >observer(</span>data) {
              var _this2 = <span class="cstat-no" title="statement not covered" >this;</span>
&nbsp;
              // 递归的终止条件： 当观察数据不存在或不再是对象是停止
<span class="cstat-no" title="statement not covered" >              if (!data || (typeof data === 'undefined' ? 'undefined' : _typeof(data)) !== 'object') {</span>
<span class="cstat-no" title="statement not covered" >                  return;</span>
              }
<span class="cstat-no" title="statement not covered" >              Object.keys(data).forEach(<span class="fstat-no" title="function not covered" >fu</span>nction (key) {</span>
                  // 递归调用自身， 遍历对象上的所有属性都为响应式的
<span class="cstat-no" title="statement not covered" >                  _this2.observer(data[key]);</span>
<span class="cstat-no" title="statement not covered" >                  _this2.setReactive(data, key);</span>
              });
          }
          // 响应式  对数据的修改会触发相应的功能
&nbsp;
      }, {
          key: 'setReactive',
          value: function <span class="fstat-no" title="function not covered" >setReactive(</span>obj, key) {
              var value = <span class="cstat-no" title="statement not covered" >obj[key];</span>
              var _this = <span class="cstat-no" title="statement not covered" >this;</span>
              var dep = <span class="cstat-no" title="statement not covered" >new Dep();</span>
<span class="cstat-no" title="statement not covered" >              Object.defineProperty(obj, key, {</span>
                  enumerable: true,
                  configurable: true,
                  get: function <span class="fstat-no" title="function not covered" >get$$1(</span>) {
                      // 进行订阅, 在编译阶段， compiler会给template中的每个指令增加一个watcher， 在watcher取值时会设置自身为Dep.target
<span class="cstat-no" title="statement not covered" >                      Dep.target &amp;&amp; dep.addSubs(Dep.target);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                      return value;</span>
                  },
                  set: function <span class="fstat-no" title="function not covered" >set$$1(</span>newValue) {
<span class="cstat-no" title="statement not covered" >                      if (newValue !== obj[key]) {</span>
                          // 对新值继续劫持
<span class="cstat-no" title="statement not covered" >                          _this.observer(newValue);</span>
                          // 用新值替换旧值
<span class="cstat-no" title="statement not covered" >                          value = newValue;</span>
                          // 发布通知
<span class="cstat-no" title="statement not covered" >                          dep.notify();</span>
                      }
                  }
              });
          }
      }]);
      return Observer;
  }();
&nbsp;
  var Watcher = function () {
      function <span class="fstat-no" title="function not covered" >Watcher(</span>vm, expr, cb) {
<span class="cstat-no" title="statement not covered" >          classCallCheck(this, Watcher);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >          this.vm = vm;</span>
<span class="cstat-no" title="statement not covered" >          this.expr = expr;</span>
<span class="cstat-no" title="statement not covered" >          this.cb = cb;</span>
          // 在new Watcher时保存初始值
<span class="cstat-no" title="statement not covered" >          this.value = this.getValAndSetTarget();</span>
      }
&nbsp;
      createClass(Watcher, [{
          key: 'getValAndSetTarget',
          value: function <span class="fstat-no" title="function not covered" >getValAndSetTarget(</span>) {
<span class="cstat-no" title="statement not covered" >              Dep.target = this;</span>
              var value = <span class="cstat-no" title="statement not covered" >this.getValue(this.expr);</span>
<span class="cstat-no" title="statement not covered" >              Dep.target = null;</span>
<span class="cstat-no" title="statement not covered" >              return value;</span>
          }
      }, {
          key: 'getValue',
          value: function <span class="fstat-no" title="function not covered" >getValue(</span>expr) {
              var arr = <span class="cstat-no" title="statement not covered" >expr.split('.');</span>
<span class="cstat-no" title="statement not covered" >              return arr.reduce(<span class="fstat-no" title="function not covered" >fu</span>nction (prev, next) {</span>
<span class="cstat-no" title="statement not covered" >                  return prev[next];</span>
              }, this.vm.$data);
          }
      }, {
          key: 'update',
          value: function <span class="fstat-no" title="function not covered" >update(</span>) {
              var oldVal = <span class="cstat-no" title="statement not covered" >this.value;</span>
              var newVal = <span class="cstat-no" title="statement not covered" >this.getValue(this.expr);</span>
<span class="cstat-no" title="statement not covered" >              if (oldVal !== newVal) {</span>
<span class="cstat-no" title="statement not covered" >                  this.cb &amp;&amp; this.cb(newVal);</span>
              }
          }
      }]);
      return Watcher;
  }();
&nbsp;
  var Compiler = function () {
      function <span class="fstat-no" title="function not covered" >Compiler(</span>el, vm) {
<span class="cstat-no" title="statement not covered" >          classCallCheck(this, Compiler);</span>
&nbsp;
          // 把dom节点挂载在Complier实例上
<span class="cstat-no" title="statement not covered" >          this.el = this.getDOM(el);</span>
          // 把mvvm实例挂载在complier实例上
<span class="cstat-no" title="statement not covered" >          this.vm = vm;</span>
          // debugger
<span class="cstat-no" title="statement not covered" >          if (this.el) {</span>
              // 如果存在再编译成文档片段
              // 编译解析出相应的指令 如 t-text, t-model, {{}}
              // 保存原有dom节点到fragment文档片段， 并做替换
&nbsp;
              // 转化为文档片段并存到内存中去
              var fragment = <span class="cstat-no" title="statement not covered" >this.toFragment(this.el);</span>
&nbsp;
              // 编译节点
<span class="cstat-no" title="statement not covered" >              this.compile(fragment);</span>
&nbsp;
              // 把编译后的文档片段重新添加到document中
<span class="cstat-no" title="statement not covered" >              this.el.appendChild(fragment);</span>
          } else {
              // 没有找到el根节点给出警告
<span class="cstat-no" title="statement not covered" >              console.error('can not find element named ' + el);</span>
          }
      }
&nbsp;
      // 编译节点，如果子节点是node节点， 递归调用自身和compileNode， 如果不是 则调用 compileText
&nbsp;
&nbsp;
      createClass(Compiler, [{
          key: 'compile',
          value: function <span class="fstat-no" title="function not covered" >compile(</span>parentNode) {
              var _this = <span class="cstat-no" title="statement not covered" >this;</span>
&nbsp;
              var childNodes = <span class="cstat-no" title="statement not covered" >parentNode.childNodes;</span>
              // console.log('childNodes is', childNodes)
<span class="cstat-no" title="statement not covered" >              childNodes.forEach(<span class="fstat-no" title="function not covered" >fu</span>nction (node, index) {</span>
<span class="cstat-no" title="statement not covered" >                  if (_this.isElement(node)) {</span>
<span class="cstat-no" title="statement not covered" >                      _this.compile(node);</span>
<span class="cstat-no" title="statement not covered" >                      _this.compileNode(node);</span>
                  } else <span class="cstat-no" title="statement not covered" >if (_this.isText(node)) {</span>
<span class="cstat-no" title="statement not covered" >                      _this.compileText(node);</span>
                  }
              });
          }
&nbsp;
          // 编译文本节点
&nbsp;
      }, {
          key: 'compileText',
          value: function <span class="fstat-no" title="function not covered" >compileText(</span>node) {
              var _this2 = <span class="cstat-no" title="statement not covered" >this;</span>
&nbsp;
              // 测试文本节点含有 {{val}} 的 regexp
              var reg = <span class="cstat-no" title="statement not covered" >/\{\{([^}]+)\}\}/g;</span>
              // 拿到文本节点的文本值
              var text = <span class="cstat-no" title="statement not covered" >node.textContent;</span>
<span class="cstat-no" title="statement not covered" >              if (reg.test(text)) {</span>
                  // 去掉{{}} 保留 value
                  var attrName = <span class="cstat-no" title="statement not covered" >text.replace(reg, <span class="fstat-no" title="function not covered" >fu</span>nction () {</span>
                      // 对每个{{}}之类的表达式增加增加一个watcher,参数为vm实例, expr表达式, 更新回调函数
<span class="cstat-no" title="statement not covered" >                      new Watcher(_this2.vm, arguments.length &lt;= 1 ? undefined : arguments[1], <span class="fstat-no" title="function not covered" >fu</span>nction (value) {</span>
                          // console.log('update???')
<span class="cstat-no" title="statement not covered" >                          compileUtil.updateText(value, node, _this2.vm);</span>
                      });
<span class="cstat-no" title="statement not covered" >                      return arguments.length &lt;= 1 ? undefined : arguments[1];</span>
                  });
                  // 例如取出{{message}} 中的 message, 交给compileUtil.updateText 方法去查找vm.data的值并替换到节点
                  var textValue = <span class="cstat-no" title="statement not covered" >this.splitData(attrName, this.vm.$data);</span>
<span class="cstat-no" title="statement not covered" >                  compileUtil.updateText(textValue, node, this.vm);</span>
              }
          }
&nbsp;
          // 剥离属性值
&nbsp;
      }, {
          key: 'splitData',
          value: function <span class="fstat-no" title="function not covered" >splitData(</span>attr, data) {
              // 传入 attr 形如 'group.member.name', 找到$data上对应的属性值并返回
              var arr = <span class="cstat-no" title="statement not covered" >attr &amp;&amp; attr.split('.');</span>
              var ret = <span class="cstat-no" title="statement not covered" >arr.reduce(<span class="fstat-no" title="function not covered" >fu</span>nction (prev, next) {</span>
<span class="cstat-no" title="statement not covered" >                  return prev[next];</span>
              }, data);
<span class="cstat-no" title="statement not covered" >              return ret;</span>
          }
&nbsp;
          // 编译node节点
&nbsp;
      }, {
          key: 'compileNode',
          value: function <span class="fstat-no" title="function not covered" >compileNode(</span>node) {
              var _this3 = <span class="cstat-no" title="statement not covered" >this;</span>
&nbsp;
              var attrs = <span class="cstat-no" title="statement not covered" >node.getAttributeNames();</span>
              // 把已t-指令存到一个数组中
<span class="cstat-no" title="statement not covered" >              attrs = attrs.filter(this.isDirective);</span>
<span class="cstat-no" title="statement not covered" >              attrs.forEach(<span class="fstat-no" title="function not covered" >fu</span>nction (item) {</span>
                  var expr = <span class="cstat-no" title="statement not covered" >node.getAttribute(item);</span>
                  var value = <span class="cstat-no" title="statement not covered" >_this3.splitData(expr, _this3.vm.$data);</span>
<span class="cstat-no" title="statement not covered" >                  if (compileUtil[item]) {</span>
<span class="cstat-no" title="statement not covered" >                      compileUtil[item](value, node, _this3.vm, expr);</span>
                  } else {
<span class="cstat-no" title="statement not covered" >                      console.warn('can\'t find directive ' + item);</span>
                  }
              });
          }
&nbsp;
          // 判断节点属性是否是指令
&nbsp;
      }, {
          key: 'isDirective',
          value: function <span class="fstat-no" title="function not covered" >isDirective(</span>text) {
<span class="cstat-no" title="statement not covered" >              return text.includes('t-');</span>
          }
&nbsp;
          // 根据传入的值， 如果是dom节点直接返回， 如果是选择器， 则返回相应的dom节点
&nbsp;
      }, {
          key: 'getDOM',
          value: function <span class="fstat-no" title="function not covered" >getDOM(</span>el) {
<span class="cstat-no" title="statement not covered" >              if (this.isElement(el)) {</span>
<span class="cstat-no" title="statement not covered" >                  return el;</span>
              } else {
<span class="cstat-no" title="statement not covered" >                  return document.querySelector(el) || null;</span>
              }
          }
&nbsp;
          // 判断dom类型， 1 为元素， 2 是属性， 3是文本， 9是文档, 11是文档片段
&nbsp;
      }, {
          key: 'isElement',
          value: function <span class="fstat-no" title="function not covered" >isElement(</span>el) {
<span class="cstat-no" title="statement not covered" >              return el.nodeType === 1;</span>
          }
      }, {
          key: 'isText',
          value: function <span class="fstat-no" title="function not covered" >isText(</span>el) {
<span class="cstat-no" title="statement not covered" >              return el.nodeType === 3;</span>
          }
&nbsp;
          // 把el dom节点转换为fragment保存在内存中并返回
&nbsp;
      }, {
          key: 'toFragment',
          value: function <span class="fstat-no" title="function not covered" >toFragment(</span>el) {
              var fragment = <span class="cstat-no" title="statement not covered" >document.createDocumentFragment();</span>
              var firstChild = <span class="cstat-no" title="statement not covered" >void 0;</span>
              // 循环把el的首个子元素推入fragment中
<span class="cstat-no" title="statement not covered" >              while (firstChild = el.firstChild) {</span>
                  // 把原始 el dom节点的所有子元素增加到文档片段中并移除原 el dom节点的所有子元素
<span class="cstat-no" title="statement not covered" >                  fragment.appendChild(firstChild);</span>
                  // debugger
                  // console.log('el dom is', el)
                  // console.log('fragment is', fragment)
              }
<span class="cstat-no" title="statement not covered" >              return fragment;</span>
          }
      }]);
      return Compiler;
  }();
&nbsp;
  // 编译功能函数的集合单例
&nbsp;
&nbsp;
  var compileUtil = {
      updateText: function <span class="fstat-no" title="function not covered" >updateText(</span>text, node, vm, expr) {
          // console.log('compileUtil.updateText text is', text)
<span class="cstat-no" title="statement not covered" >          node &amp;&amp; (node.textContent = text);</span>
      },
&nbsp;
      //  在绑定有t-model节点的input上绑定事件, expr为t-model的表达式例如 'message.name'
      't-model': function <span class="fstat-no" title="function not covered" >tModel(</span>value, node, vm, expr) {
          var _this4 = <span class="cstat-no" title="statement not covered" >this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >          node &amp;&amp; (node.value = value);</span>
<span class="cstat-no" title="statement not covered" >          node.addEventListener('input', <span class="fstat-no" title="function not covered" >fu</span>nction (e) {</span>
<span class="cstat-no" title="statement not covered" >              _this4.setVal(vm.$data, expr, e.target.value);</span>
          });
      },
      // 解析vm.data上的t-model绑定的值
      setVal: function <span class="fstat-no" title="function not covered" >setVal(</span>obj, expr, value) {
          var arr = <span class="cstat-no" title="statement not covered" >expr.split('.');</span>
<span class="cstat-no" title="statement not covered" >          arr.reduce(<span class="fstat-no" title="function not covered" >fu</span>nction (prev, next) {</span>
<span class="cstat-no" title="statement not covered" >              if (arr.indexOf(next) == arr.length - 1) {</span>
<span class="cstat-no" title="statement not covered" >                  prev[next] = value;</span>
              } else {
<span class="cstat-no" title="statement not covered" >                  return prev[next];</span>
              }
          }, obj);
      }
  };
&nbsp;
  var TVVM = function () {
      function <span class="fstat-no" title="function not covered" >TVVM(</span>options) {
<span class="cstat-no" title="statement not covered" >          classCallCheck(this, TVVM);</span>
&nbsp;
          // 初始化参数， 把el， data等进行赋值与绑定
<span class="cstat-no" title="statement not covered" >          this.$el = options.el;</span>
          // data如果是函数就取返回值， 如果不是则直接赋值
<span class="cstat-no" title="statement not covered" >          this.$data = typeof options.data === 'function' ? options.data() : options.data;</span>
          // 数据代理, 把data对象属性代理到vm实例上
<span class="cstat-no" title="statement not covered" >          this.proxy(this.$data);</span>
          // debugger
          // 把$el真实的dom节点编译成vdom, 并解析相关指令
<span class="cstat-no" title="statement not covered" >          if (this.$el) {</span>
              // 数据劫持, 
<span class="cstat-no" title="statement not covered" >              new Observer(this.$data);</span>
<span class="cstat-no" title="statement not covered" >              new Compiler(this.$el, this);</span>
          }
      }
      // 数据代理, 访问/设置 this.a 相当于访问设置 this.data.a
&nbsp;
&nbsp;
      createClass(TVVM, [{
          key: 'proxy',
          value: function <span class="fstat-no" title="function not covered" >proxy(</span>data) {
              var _this = <span class="cstat-no" title="statement not covered" >this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >              Object.keys(data).forEach(<span class="fstat-no" title="function not covered" >fu</span>nction (key) {</span>
<span class="cstat-no" title="statement not covered" >                  Object.defineProperty(_this, key, {</span>
                      enumerable: true,
                      configurable: true,
                      get: function <span class="fstat-no" title="function not covered" >get$$1(</span>) {
<span class="cstat-no" title="statement not covered" >                          return data[key];</span>
                      },
                      set: function <span class="fstat-no" title="function not covered" >set$$1(</span>newValue) {
<span class="cstat-no" title="statement not covered" >                          data[key] = newValue;</span>
                      }
                  });
              });
          }
      }]);
      return TVVM;
  }();
&nbsp;
  return TVVM;
&nbsp;
})));
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Sun Nov 25 2018 01:11:19 GMT+0800 (CST)
</div>
</div>
<script src="prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="sorter.js"></script>
</body>
</html>
